 #grafana
 
## TO DO:
- [x] Improve the dashboard.
- [x] Add the Percentile Graph to analyze the TPS(Transactions per second).
- [x] Widget: NGINX Request Duration Percentiles (p99, p95, p90): implement an Alert that fires if  P99 takes more than 1s for 1 minute. 
- [x] Widget: DLR Response Time Distribution: Create an Alert that fires if an apikey takes more than 0.5s for 5 minute.
- [x] To fire alert when a particular customer has non 200 status for the request more than 10% of the total responses. It must fire alert if non 200 status are more than 10% for 10 minutes.
- [x] Identify the methods to download or save Dashboard, Panel and queries
- [ ] F5 LOAD BALANCER requirements

---
#### Continuous Monitoring: 
>It is an automated process by which one can observe and detect compliance issues and security threats during each phase of the DevOps pipeline. 

#### Continuous Monitoring tools: 
1. Monitoring Tools: monitor infrastructure and application performance.
> Tools: Sensui, Nagios, Prometheus.
2. Configuration Management Tools: used to automate the provisioning and deployment of the systems, enforced desired configurations. By modelling infrastructure as a code we can apply software delivery practices like version control, automated testing and continuous delivery to infrastructure and applications.
> Tools: ansible, chef, puppet
3. Alerting Tools: It provides both actionable and informational system alerts and can be customized to fit the complexities of the system.


#### Prometheus as deployment
The process of recording and transmitting the readings of an application or piece of infrastructure is known as **telemetry**. Telemetry is critical to observability because it helps you understand exactly what's going on in your infrastructure. 

#### Bringing it Together
The PromQL query filters and aggregates the data to provide you the insight you need. With those steps, we’ve gone from raw numbers, generated by software, into Prometheus, delivered to Grafana, queried by PromQL, and visualized by Grafana.

#### Grafana Dashboard 
The process involves passing data through three gates: a plugin, a query, and an optional transformation.
![[Pasted image 20250121110015.png]]

The data coming into the plugin from the data source might be in many different formats (such as JSON, rows and columns, or CSV), but when it leaves the plugin and moves through the rest of the gates toward a visualization, it’s always in data frames.

> [!IMPORTANT] 
**How to explore Prometheus and Grafana through Hello World: https://grafana.com/blog/2019/12/04/how-to-explore-prometheus-with-easy-hello-world-projects/ .**

[Querying Prometheus](https://prometheus.io/docs/prometheus/latest/querying/basics/)
[Getting started with Prometheus](https://prometheus.io/docs/introduction/first_steps/) 
[Install/Uninstall Grafana on local]( https://grafana.com/docs/grafana/latest/setup-grafana/installation/debian/)
[Start/Restart Grafana Server](https://grafana.com/docs/grafana/latest/setup-grafana/start-restart-grafana/)
[Sign in to Grafana](https://grafana.com/docs/grafana/latest/getting-started/build-first-dashboard/)
[Build First Dashboard](https://grafana.com/docs/grafana/latest/getting-started/build-first-dashboard/)
[Configure Prometheus in Grafana](https://grafana.com/docs/grafana/latest/datasources/prometheus/configure-prometheus-data-source/)
[Simple demo creating dashboards for Prometheus](https://www.youtube.com/watch?v=EGgtJUjky8w)


### Alerts: 
![[Pasted image 20250122123735.png]]
![[Pasted image 20250122123811.png]]


#### QUESTIONS: 
- [ ] 1. Who is using the APIs. How do we get all hits from different customers at IP: **3.109.150.225**.
- [ ] Prometheus scrape metrics nginx AURA (**203.112.151.144**:2020) and nginx local (**3.110.75.24**:2020) ?  
- [ ] 
- [ ] 


